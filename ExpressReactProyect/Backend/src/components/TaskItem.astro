---
const { task } = Astro.props;
---

<div class="Task flex justify-between items-center w-[83%] p-[10px] rounded-[5px] bg-[rgb(83,57,88)]" >
  <form action="/api/tasks" method="post" class="checkItem flex items-center gap-4 w-full">
    <input type="hidden" name="_method" value="TOGGLE" />
    <input type="hidden" name="id" value={task.id} />
    <!-- Button para el Toggle -->
    <button
    type="submit"
    class={`checkTask appearance-none w-[47px] h-[40px] border-2 rounded-[8px] cursor-pointer relative transition-all duration-300 
      text-white text-[14px] 
      ${task.completed ? 'bg-green-600 border-green-600 after:content-["DONE"]' : 'bg-[rgb(83,57,88)] border-gray-400 after:content-[""]'}
      after:absolute after:left-1/2 after:top-1/2 after:-translate-x-1/2 after:-translate-y-1/2 after:pointer-events-none`}
    style="text-align: center;"
  >
  </button>
  <p class={`flex-1 text-center transition-all duration-300 
    ${task.completed ? 'line-through text-gray-400' : 'text-white'}`}>
    {task.text}
  </p>
</form>

  <form action="/api/tasks" method="post" class="deleteItem">
    <input type="hidden" name="_method" value="DELETE"  />
    <input type="hidden" name="id" value={task.id} />
    <button class="deleteTask flex items-center gap-2 bg-orange-400 text-white rounded-[5px] px-5 py-2 cursor-pointer text-[16px] hover:bg-[rgb(139,90,0)] transition" type="submit">
      <i class="fas fa-trash"></i> Eliminar
    </button>
  </form>
</div>

