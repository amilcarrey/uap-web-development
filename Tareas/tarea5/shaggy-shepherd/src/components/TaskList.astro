<!-- ---
import { getTasks } from '../server/tasks.ts';

const tasks = getTasks();
---

<ul id="task-list" class="space-y-2">
  {tasks.map(task => (
    <li
      class="flex items-center justify-between border-b py-2"
      data-id={task.id}
    >
      <form method="POST" action="/api/toggle_task" class="flex items-center flex-1">
        <input type="hidden" name="id" value={task.id} />
        <input
          type="checkbox"
          name="toggle"
          onchange="this.form.submit()"
          checked={task.completed}
          class="mr-3 w-5 h-5 accent-orange-500"
        />
        <span class={`flex-1 ${task.completed ? "line-through text-gray-400" : "text-gray-800"}`}>
          {task.text}
        </span>
      </form>

      <form method="POST" action="/api/delete_task">
        <input type="hidden" name="id" value={task.id} />
        <button
          type="submit"
          class="ml-3 text-red-500 hover:text-red-700 text-xl"
        >
          ðŸ—‘
        </button>
      </form>
    </li>
  ))}
</ul> -->
